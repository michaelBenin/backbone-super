!function(e,t){if("function"==typeof define&&define.amd)define(["underscore","backbone"],function(e,n){t(e,n)});else if("undefined"!=typeof exports&&"function"==typeof require){var n=require("underscore"),r=require("backbone");t(n,r)}else t(e._,e.Backbone)}(this,function(e,t){function n(e,t){return function(){return this._super=t,e.apply(this,Array.prototype.slice.call(arguments))}}function r(){var t=arguments[0];if(!t)return!1;if(!e.isObject(t))return t;for(var r,o,i=arguments.length,u=1;i>u;u++)if(r=arguments[u],e.isObject(r))for(o in r)Object.hasOwnProperty.call(r,o)&&(e.isFunction(r[o])&&e.isFunction(t[o])?(t[o]=n(r[o],t[o]),t[o].prototype=r[o].prototype):t[o]=r[o]);return t}function o(t,n){var i,u=this;i=t&&e.has(t,"constructor")?t.constructor:function(){return u.apply(this,arguments)},r(i,u,n);var c=function(){this.constructor=i};return c.prototype=u.prototype,i.prototype=new c,t&&r(i.prototype,t),i.__super__=u.prototype,i.extend=o,i}return t.Model.extend=t.Collection.extend=t.Router.extend=t.View.extend=t.History.extend=o,o});